{"ast":null,"code":"'use strict';\n\nvar _get = require('babel-runtime/helpers/get')['default'];\nvar _inherits = require('babel-runtime/helpers/inherits')['default'];\nvar _createClass = require('babel-runtime/helpers/create-class')['default'];\nvar _classCallCheck = require('babel-runtime/helpers/class-call-check')['default'];\nvar _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar _react = require('react');\nvar _react2 = _interopRequireDefault(_react);\nvar _gisMaps = require('2gis-maps');\nvar _gisMaps2 = _interopRequireDefault(_gisMaps);\nvar _MapComponent2 = require('./MapComponent');\nvar _MapComponent3 = _interopRequireDefault(_MapComponent2);\nvar Marker = function (_MapComponent) {\n  _inherits(Marker, _MapComponent);\n  function Marker() {\n    var _this = this;\n    _classCallCheck(this, Marker);\n    _get(Object.getPrototypeOf(Marker.prototype), 'constructor', this).apply(this, arguments);\n    this.state = {\n      dgElement: null,\n      childrenForRender: [],\n      pos: this.props.pos || null\n    };\n    this.dragging = function (e) {\n      _this.setState({\n        dgElement: _this.state.dgElement,\n        childrenForRender: _this.state.childrenForRender,\n        pos: e.latlng\n      });\n    };\n  }\n  _createClass(Marker, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n      var dgElement = _gisMaps2['default'].marker(this.props.pos, {\n        draggable: this.props.draggable,\n        clickable: this.props.clickable\n      });\n      if (this.props.label) {\n        dgElement.bindLabel(this.props.label);\n      }\n      this.setState({\n        dgElement: dgElement\n      }, function () {\n        // For dragging Marker.\n        if (_this2.props.draggable) {\n          _this2.draggingSwitchTo(true);\n        }\n      });\n      this.bindEvents(dgElement);\n\n      // todo: fix it after fix https://github.com/2gis/mapsapi/issues/332\n      if (this.props.staticLabel) {\n        this.props.element.addLayer(dgElement);\n        dgElement.bindLabel(this.props.staticLabel, {\n          'static': true\n        });\n      } else {\n        this.props.element.addLayer(dgElement);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var dgElement = this.state.dgElement;\n      this.updatePos(prevProps);\n      this.updateLabel(prevProps);\n\n      // Update static label.\n      if (this.checkPropsChange('staticLabel', prevProps)) {\n        dgElement.bindLabel(this.props.staticLabel, {\n          'static': true\n        });\n      }\n\n      // Update draggable.\n      if (this.checkPropsChange('draggable', prevProps)) {\n        this.draggingSwitchTo(this.props.draggable);\n      }\n      this.updateEvents(dgElement, prevProps);\n    }\n  }, {\n    key: 'draggingSwitchTo',\n    value: function draggingSwitchTo(isEnable) {\n      var dgElement = this.state.dgElement;\n      if (isEnable) {\n        dgElement.on('drag', this.dragging);\n        dgElement.dragging.enable();\n      } else {\n        dgElement.off('drag', this.dragging);\n        dgElement.dragging.disable();\n        dgElement.setLatLng(this.state.pos);\n      }\n    }\n  }], [{\n    key: 'propsTypes',\n    value: {\n      pos: _react.PropTypes.array,\n      label: _react.PropTypes.string,\n      staticLabel: _react.PropTypes.string,\n      draggable: _react.PropTypes.bool,\n      clickable: _react.PropTypes.bool\n    },\n    enumerable: true\n  }, {\n    key: 'defaultProps',\n    value: {\n      draggable: false,\n      clickable: true,\n      label: false,\n      staticLabel: false\n    },\n    enumerable: true\n  }]);\n  return Marker;\n}(_MapComponent3['default']);\nexports['default'] = Marker;\nmodule.exports = exports['default'];","map":{"version":3,"names":["_get","require","_inherits","_createClass","_classCallCheck","_interopRequireDefault","Object","defineProperty","exports","value","_react","_react2","_gisMaps","_gisMaps2","_MapComponent2","_MapComponent3","Marker","_MapComponent","_this","getPrototypeOf","prototype","apply","arguments","state","dgElement","childrenForRender","pos","props","dragging","e","setState","latlng","key","componentDidMount","_this2","marker","draggable","clickable","label","bindLabel","draggingSwitchTo","bindEvents","staticLabel","element","addLayer","componentDidUpdate","prevProps","updatePos","updateLabel","checkPropsChange","updateEvents","isEnable","on","enable","off","disable","setLatLng","PropTypes","array","string","bool","enumerable","module"],"sources":["C:/Users/Lenovo/Desktop/REACT3/my-app/node_modules/2gis-maps-react/lib/Marker.js"],"sourcesContent":["'use strict';\n\nvar _get = require('babel-runtime/helpers/get')['default'];\n\nvar _inherits = require('babel-runtime/helpers/inherits')['default'];\n\nvar _createClass = require('babel-runtime/helpers/create-class')['default'];\n\nvar _classCallCheck = require('babel-runtime/helpers/class-call-check')['default'];\n\nvar _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _gisMaps = require('2gis-maps');\n\nvar _gisMaps2 = _interopRequireDefault(_gisMaps);\n\nvar _MapComponent2 = require('./MapComponent');\n\nvar _MapComponent3 = _interopRequireDefault(_MapComponent2);\n\nvar Marker = (function (_MapComponent) {\n    _inherits(Marker, _MapComponent);\n\n    function Marker() {\n        var _this = this;\n\n        _classCallCheck(this, Marker);\n\n        _get(Object.getPrototypeOf(Marker.prototype), 'constructor', this).apply(this, arguments);\n\n        this.state = {\n            dgElement: null,\n            childrenForRender: [],\n            pos: this.props.pos || null\n        };\n\n        this.dragging = function (e) {\n            _this.setState({\n                dgElement: _this.state.dgElement,\n                childrenForRender: _this.state.childrenForRender,\n                pos: e.latlng\n            });\n        };\n    }\n\n    _createClass(Marker, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            var dgElement = _gisMaps2['default'].marker(this.props.pos, {\n                draggable: this.props.draggable,\n                clickable: this.props.clickable\n            });\n\n            if (this.props.label) {\n                dgElement.bindLabel(this.props.label);\n            }\n\n            this.setState({\n                dgElement: dgElement\n            }, function () {\n                // For dragging Marker.\n                if (_this2.props.draggable) {\n                    _this2.draggingSwitchTo(true);\n                }\n            });\n\n            this.bindEvents(dgElement);\n\n            // todo: fix it after fix https://github.com/2gis/mapsapi/issues/332\n            if (this.props.staticLabel) {\n                this.props.element.addLayer(dgElement);\n\n                dgElement.bindLabel(this.props.staticLabel, { 'static': true });\n            } else {\n                this.props.element.addLayer(dgElement);\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            var dgElement = this.state.dgElement;\n\n            this.updatePos(prevProps);\n\n            this.updateLabel(prevProps);\n\n            // Update static label.\n            if (this.checkPropsChange('staticLabel', prevProps)) {\n                dgElement.bindLabel(this.props.staticLabel, { 'static': true });\n            }\n\n            // Update draggable.\n            if (this.checkPropsChange('draggable', prevProps)) {\n                this.draggingSwitchTo(this.props.draggable);\n            }\n\n            this.updateEvents(dgElement, prevProps);\n        }\n    }, {\n        key: 'draggingSwitchTo',\n        value: function draggingSwitchTo(isEnable) {\n            var dgElement = this.state.dgElement;\n\n            if (isEnable) {\n                dgElement.on('drag', this.dragging);\n                dgElement.dragging.enable();\n            } else {\n                dgElement.off('drag', this.dragging);\n                dgElement.dragging.disable();\n                dgElement.setLatLng(this.state.pos);\n            }\n        }\n    }], [{\n        key: 'propsTypes',\n        value: {\n            pos: _react.PropTypes.array,\n            label: _react.PropTypes.string,\n            staticLabel: _react.PropTypes.string,\n            draggable: _react.PropTypes.bool,\n            clickable: _react.PropTypes.bool\n        },\n        enumerable: true\n    }, {\n        key: 'defaultProps',\n        value: {\n            draggable: false,\n            clickable: true,\n            label: false,\n            staticLabel: false\n        },\n        enumerable: true\n    }]);\n\n    return Marker;\n})(_MapComponent3['default']);\n\nexports['default'] = Marker;\nmodule.exports = exports['default'];"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}